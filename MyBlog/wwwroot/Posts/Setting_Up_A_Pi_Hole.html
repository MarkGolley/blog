<!-- PublishedDate: 2025-07-29 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: system-ui, sans-serif;
            max-width: 800px;
            margin: auto;
            padding: 2rem;
            line-height: 1.6;
            background: #f9f9f9;
            color: #333;
        }
        h1, h2 {
            color: #222;
        }
        h3 {
            font-size: 1.1rem;
            color: #555;
            font-weight: 600;
            margin-top: 1.2rem;
            margin-bottom: 0.6rem;
        }
        h4 {
            font-size: 1rem;
            color: #666;
            font-weight: 600;
            font-style: italic;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }
        pre {
            background: #eee;
            padding: 1rem;
            overflow-x: auto;
        }
        code {
            font-family: monospace;
        }
        a {
            color: #0366d6;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .tip {
            background: #e7f3ff;
            border-left: 4px solid #2196f3;
            padding: 1rem;
            margin: 1rem 0;
        }
        .blueprint {
            background: #f5f5f5;
            border: 1px solid #ddd;
            padding: 1rem;
            margin: 1rem 0;
            font-family: monospace;
            white-space: pre;
        }
    </style>
</head>
<body>
<h1>Why I Set Up a Pi-hole and How I Got It Working</h1>
<p> This post is a simple guide to setting up a Pi-hole on a Raspberry Pi. I'll explain what the Pi-hole does, how to install it, and how it can improve your network experience.</p>

<p>I‚Äôd read about the benefits of a Pi-hole and how it could reduce the number of ads I see across all my devices on Wi-Fi. I already use browser ad blockers, but I wanted to experiment with a Raspberry Pi‚Äîand this seemed like the perfect project!</p>

<p>Enter Pi-hole: a powerful little tool that runs as a local DNS server, blocking ads for every device on your network.</p>

<h2>Why I Got a Pi-hole</h2>
<p>Ads had become more intrusive than ever, especially on streaming services, YouTube, and certain websites. I wanted:</p>
<ul>
    <li><strong>Faster browsing</strong> (if possible)</li>
    <li><strong>Fewer distractions</strong> ‚Äì yes please (haha)</li>
    <li><strong>More privacy</strong></li>
    <li><strong>Some nerdy fun</strong></li>
</ul>
<p>I had a spare Raspberry Pi 3 from a friend, so I decided to put it to work.</p>

<h2>The Network Flow</h2>
<p>Here's how network traffic flows after setting it up:</p>
<p><code>Device ‚Üí Router ‚Üí Pi-hole ‚Üí Internet</code></p>

<h2>Initial Setup</h2>
<p>Before I could begin, I needed a few things:</p>
<ul>
    <li>HDMI to Micro HDMI cable</li>
    <li>USB-A keyboard</li>
    <li>USB-A mouse ‚Äì I didn‚Äôt have one, so it was keyboard-only!</li>
</ul>

<h3>How Does a Pi Connect?</h3>
<p>I wasn‚Äôt even sure if my Pi supported Wi-Fi. To find out, I ran:</p>
<pre><code>iwconfig</code></pre>
<p>I looked for <code>wlan0</code> in the output‚Äîand it was there! So Wi-Fi was a go.</p>

<h2>Installing Pi-hole</h2>
<p>Installation was simple with a one-liner:</p>
<pre><code>curl -sSL https://install.pi-hole.net | bash</code></pre>
<p>I selected a few popular blocklists and configured Pi-hole to run on port 8080, since another service was already using port 80.</p>

<h3>Connecting Raspberry Pi to Wi-Fi</h3>
<p>To get Wi-Fi working, I edited the network configuration:</p>
<pre><code>sudo nano /etc/wpa_supplicant/wpa_supplicant.conf</code></pre>
<p>Then added:</p>
<pre class="blueprint">network={
    ssid="YourWiFiSSID"
    psk="YourWiFiPassword"
}</pre>
<p>After a quick reboot, I got the IP address using:</p>
<pre><code>hostname -I</code></pre>

<div class="tip">
    ‚úÖ Tip: Assign a static IP to your Pi using your router‚Äôs admin settings.
</div>

<h3>Telling the Router to Use the Pi-hole</h3>
<p>I logged into my router (the default IP and password were printed on the back), and changed the DNS settings from "automatic" to "manual". Then I entered the Pi‚Äôs IP address so it could handle DNS requests.</p>

<h4>What is DNS Resolution?</h4>
<p>It‚Äôs how your devices translate human-friendly domain names (like <code>bbc.co.uk</code>) into IP addresses. Pi-hole steps in here to block unwanted domains at this point in the process.</p>

<h2>Taking a Look at the Dashboard</h2>
<p>To access the dashboard, I visited:</p>
<pre><code>http://192.168.1.XXX/admin</code></pre>
<p>It loaded‚Äîbut there was zero activity showing. Uh-oh. Here is what a working one looks like:</p>
<img src="./Posts/PostsImages/pi-dashboard.png" alt="Pi-hole dashboard showing blocked ads statistics" style="width: 100%; max-width: 700px;">

<h2>Diagnosing Why It Was Inactive</h2>
<p>When I first checked the dashboard, it wasn‚Äôt blocking anything. I decided to troubleshoot, but it wasn‚Äôt immediately clear what was wrong. Here‚Äôs what I tried (and how I eventually fixed it):</p>

<h3>1. Checking the Network Interface</h3>
<p>I noticed in the dashboard settings that it was using the Ethernet interface instead of the Wi-Fi interface. Since my Pi-hole was connected to Wi-Fi, this had to be fixed. I read that you can often use:</p>
<pre><code>sudo pihole -r</code></pre>
<p>to reconfigure the Pi-hole settings, but when I tried, it skipped past the part where I could select the interface. So instead, I manually edited the configuration file:</p>
<pre><code>sudo nano /etc/pihole/setupVars.conf</code></pre>
<p>and updated:</p>
<pre><code>PIHOLE_INTERFACE=wlan0</code></pre>
<p>After saving the file and rebooting the Pi-hole, I tested it using:</p>
<pre><code>nslookup bbc.co.uk 192.168.1.XXX</code></pre>
<p>Unfortunately, it was timing out. This meant the Pi-hole wasn‚Äôt responding to DNS requests yet.</p>

<h3>2. Checking for Open Ports</h3>
<p>To check if Pi-hole was set up to accept DNS requests, I ran:</p>
<pre><code>sudo netstat -tulnp | grep ":53"</code></pre>
<p>Port 53 (the port DNS queries use) was open, so I knew Pi-hole was at least listening for DNS requests. That was a good sign!</p>

<h3>3. Testing Connectivity on the Network</h3>
<p>Next, I tried testing the connection between my PC and the Pi-hole. From my PC, I ran:</p>
<pre><code>ping 192.168.1.XXX</code></pre>
<p>This worked! My PC could communicate with the Pi-hole. But when I went back to the Pi and tested DNS resolution using:</p>
<pre><code>
dig bbc.co.uk @127.0.0.1  
dig bbc.co.uk @192.168.1.XXX
</code></pre>
<p>I noticed that only the first command worked. So, the Pi-hole was sorting out its own DNS, but for some reason, it wasn‚Äôt letting anything from my devices through . So, it still wasn‚Äôt fully functional.</p>

<h3>4. Updating the Listen Addresses</h3>
<p>After some research, I realised the Pi-hole's configuration needed to be updated to listen for both local and network requests. I edited the DNS configuration file:</p>
<pre><code>sudo nano /etc/dnsmasq.d/01-pihole.conf</code></pre>
<p>and added:</p>
<pre><code>
listen-address=127.0.0.1  
listen-address=192.168.1.XXX
</code></pre>
<p>This made sure Pi-hole was set to listen both to itself (127.0.0.1) and the broader network interface (192.168.1.XXX).</p>

<h3>5. Testing Again</h3>
<p>After saving the file and restarting the Pi-hole, I tested it again using:</p>
<pre><code>dig bbc.co.uk @192.168.1.XXX</code></pre>
<p>This time, it worked! The Pi-hole was now resolving DNS requests from other devices on the network.</p>

<h3>Ready for Use!</h3>
<p>Finally, I refreshed the Pi-hole dashboard, and‚Äîfinally‚Äîthere was activity!‚Äîads were being blocked, and DNS queries from my devices were being handled. After a bit of trial and error, it was ready for use!</p>

<h2>Making Devices Use Pi-hole</h2>
<p>Here‚Äôs how I routed devices through it:</p>
<ul>
    <li><strong>Windows PC</strong>: Updated DNS manually in Ethernet settings</li>
    <li><strong>iPhone & Apple TV</strong>: Changed DNS under their Wi-Fi settings</li>
</ul>

<div class="tip">
    ‚úÖ Tip: It takes effect instantly‚Äîno need to reboot the device.
</div>

<p>Once configured, ads started vanishing across those devices.</p>

<h2>Blocklists and Limitations</h2>
<p>Out of the box, Pi-hole doesn‚Äôt block YouTube/ITVX etc ads. That‚Äôs not a bug‚Äîit‚Äôs because these services often serve content and ads from the same domains.</p>

<p>To strengthen Pi-hole, I added a few more URLs to the dashboards block list and updated the pi to use them with
<pre><code>pihole -g</code></pre>
<p>I added:</p>
<ul>
    <li>The Firebog list collection</li>
    <li>Steven Black‚Äôs hosts file</li>
</ul>

<p>Even then, YouTube remains tricky‚ÄîDNS-level blocking has limits.</p>

<h2>Final Thoughts</h2>
<p>Setting up Pi-hole wasn‚Äôt totally smooth, but it was a fun and rewarding weekend project. I learned loads doing this!!</p>

<p>My internet is now cleaner, faster, and more private. If you‚Äôre comfortable using the terminal and enjoy a bit of tinkering, I‚Äôd absolutely recommend giving Pi-hole a go.</p>

<h2>Bonus Project: Turn Pi into a Media Server</h2>
<p>With Pi-hole sorted, I plugged in an external hard drive full of movies and photos. It auto-mounted, so I could browse the files straight away.</p>

<p>I set up Samba (SMB) to access them from my Windows PC. I‚Äôm now trying to use Kodi on my Xbox to stream the content. The only snag: the ‚ÄúWindows network‚Äù option isn‚Äôt showing up. Still working on that!</p>

<p>Let me know if you've had a similar experience‚Äîor any tips for getting Kodi working with SMB. üòÑ</p>

</body>
</html>
